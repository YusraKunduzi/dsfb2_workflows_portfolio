YAML HEADER NOG TOEVOEGEN

# Naam van hoofdstuk

A. Review the following Excel file in the ./data/CE.LIQ.FLOW.062_Tidydata.xlsx (it’s here), by opening the file in Excel. See if you can spot anything peculiar about this file. Do not edit the file in any way. Just close it when you are done. (Annoyingly, Excel asks you to save your changes, even if you did not touch anything in the file.)

   - The file contains mostly metadata with columns repeating this type of data.


B Open the file in R, using the {readxl} package.

  - flow_tidy <- read_excel("ruwe_data/CE.LIQ.FLOW.062_Tidydata.xlsx")
    View(flow_tidy)

C Inspect the data types of columns RawData, compName and compConcentration. What types would you expect from the experimental description above. Have the data types been correctly assigned during the importing of the data into R?

   - RawData is of the class 'numeric' and compName is 'character' which are both correct. CompConcentration is also of the class 'character' which is not correct. It should be numerical and this is the code to change it to the right class: flow_tidy$compConcentration <- as.numeric(flow_tidy$compConcentration)
```{R, Loading the data}
library(readxl)

flow_tidy <- read_excel("ruwe_data/CE.LIQ.FLOW.062_Tidydata.xlsx")

```


D Create a graph displaying a scatterplot for the CE.LIQ.FLOW.062_Tidydata.xlsx data, for the different compounds and the varying concentrations. Put the compConcentration on the x-axis, the DataRaw counts on the y-axis and assign a colour to each level in compName. Assign a different symbol (shape =) to each level in the expType variable. Try fixing the labels of the x-axis so that we can read them.
```{r, scatterplot}
library(ggplot2)
library(tidyverse)
library(dplyr)

# Eindresultaat scatterplot:
#  - x-as compconentration --> goeie x-as labels
#  - y-as rawdata counts 
#     - + kleur per level in compname
#     - + andere shape per level in exptype


# Change comconcentration into numeric column.
flow_tidy$compConcentration <- as.numeric(flow_tidy$compConcentration)

# Change compname and exptype into factors
flow_tidy$compName <- as.factor(flow_tidy$compName)
flow_tidy$expType <-  as.factor(flow_tidy$expType)

# Plot the data
flow_tidy_plot <- flow_tidy %>% ggplot(aes(x= compConcentration, y= RawData, colour = compName, shape = expType)) + geom_point()

```

E When creating the plot under C), what happened with the ordering of the x-axis labels. Explain why this happens. Look at the data-type of the compConcentration column in the data again to find a clue.

F Correct this and than look at the graph again. Use a log10 transformation on the x-axis to get a clear graph. Also, add a bit of jitter to the points in the graph so that points are not overlapping (Google “ggplot jitter” if needed).

Fill in: (G) The positive control for this experiments is ….. (H) The negative control for this experiment is …..

I Think about how you would analyze this experiment to learn whether there is indeed an effect of different concentrations on offspring count and whether the different compounds have a different curve (IC50). Write down you analysis as a step-wise plan.

J Normalize the data for the controlNegative in such a way that the mean value for controlNegative is exactly equal to 1 and that all other values are expressed as a fraction thereof. Rerun your graphs with the normalized data.

K Why would you want to take the step under J?